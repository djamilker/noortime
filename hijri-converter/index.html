<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NoorTime â€“ Hijri Converter</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Cairo', sans-serif;
    }
    .gold {
      background: linear-gradient(to right, #d4af37, #fceabb);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
      border-radius: 1.25rem;
    }
  </style>
</head>

<body class="bg-[#0d1b2a] text-white min-h-screen relative overflow-x-hidden">
  <!-- Background -->
  <img src="../assets/hero-bg.jpg" alt="background" class="absolute inset-0 w-full h-full object-cover opacity-60 z-0" />

  <!-- HEADER -->
  <header class="w-full max-w-6xl mx-auto px-6 py-4 flex justify-between items-center relative z-10">
    <div class="text-xl font-bold gold">ðŸ•Œ NoorTime</div>
    <nav class="flex gap-6 text-sm font-medium text-white/80">
      <a href="../index.html" class="hover:text-yellow-400">Home</a>
      <a href="../prayer-times/index.html" class="hover:text-yellow-400">Prayer Times</a>
      <a href="index.html" class="text-yellow-300 underline font-semibold">Hijri Converter</a>
    </nav>
  </header>

  <!-- MAIN -->
  <main class="z-10 relative px-4 sm:px-6 py-10 max-w-xl mx-auto space-y-10 text-center">
    <h1 class="text-3xl sm:text-4xl font-bold gold">ðŸ“… Hijri â†” Gregorian Converter</h1>

    <div class="space-y-10">
      <!-- G to H -->
      <div class="card p-6">
        <h2 class="text-yellow-300 text-lg font-semibold mb-2">ðŸ—“ Gregorian to Hijri</h2>
        <input type="date" id="gregorianInput" class="w-full mt-2 px-3 py-2 rounded bg-white/10 text-white border border-white/20" />
        <button onclick="convertToHijri()" class="mt-3 px-4 py-2 text-sm rounded bg-yellow-500 text-black hover:bg-yellow-400 transition">Convert</button>
        <p id="hijriOutput" class="text-sm text-yellow-200 mt-2"></p>
      </div>

      <!-- H to G -->
      <div class="card p-6 border-t border-white/10">
        <h2 class="text-yellow-300 text-lg font-semibold mb-2">ðŸ—“ Hijri to Gregorian</h2>
        <input type="text" id="hijriInput" placeholder="1445-10-01" class="w-full mt-2 px-3 py-2 rounded bg-white/10 text-white border border-white/20" />
        <button onclick="convertToGregorian()" class="mt-3 px-4 py-2 text-sm rounded bg-yellow-500 text-black hover:bg-yellow-400 transition">Convert</button>
        <p id="gregorianOutput" class="text-sm text-yellow-200 mt-2"></p>
      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="z-10 text-center text-xs text-white/40 py-6">
    NoorTime.org Â· Offline converter Â· No external APIs used
  </footer>

  <!-- SCRIPT -->
  <script>
    function gregorianToHijri(gDate) {
      const day = gDate.getDate();
      const month = gDate.getMonth();
      const year = gDate.getFullYear();
      const jd = Math.floor((1461 * (year + 4800 + (month - 14) / 12)) / 4)
        + Math.floor((367 * (month - 2 - 12 * ((month - 14) / 12))) / 12)
        - Math.floor((3 * Math.floor((year + 4900 + (month - 14) / 12) / 100)) / 4)
        + day - 32075;
      const l = jd - 1948440 + 10632;
      const n = Math.floor((l - 1) / 10631);
      let r = l - 10631 * n + 354;
      let j = Math.floor((10985 - r) / 5316) * Math.floor((50 * r) / 17719)
        + Math.floor(r / 5670) * Math.floor((43 * r) / 15238);
      r = r - Math.floor((30 - j) / 15) * Math.floor((17719 * j) / 50)
        - Math.floor(j / 16) * Math.floor((15238 * j) / 43) + 29;
      const m = Math.floor((24 * r) / 709);
      const d = r - Math.floor((709 * m) / 24);
      const y = 30 * n + j - 30;
      return { day: d, month: m, year: y };
    }

    function hijriToGregorian(hy, hm, hd) {
      const jd = Math.floor((11 * hy + 3) / 30) + 354 * hy + 30 * hm
        - Math.floor((hm - 1) / 2) + hd + 1948440 - 385;
      let l = jd + 68569;
      const n = Math.floor((4 * l) / 146097);
      l = l - Math.floor((146097 * n + 3) / 4);
      const i = Math.floor((4000 * (l + 1)) / 1461001);
      l = l - Math.floor((1461 * i) / 4) + 31;
      const j = Math.floor((80 * l) / 2447);
      const d = l - Math.floor((2447 * j) / 80);
      l = Math.floor(j / 11);
      const m = j + 2 - 12 * l;
      const y = 100 * (n - 49) + i + l;
      return { day: d, month: m, year: y };
    }

    function convertToHijri() {
      const input = document.getElementById('gregorianInput').value;
      const output = document.getElementById('hijriOutput');
      if (!input) return output.textContent = 'Please select a date.';
      const [year, month, day] = input.split('-').map(Number);
      const gDate = new Date(year, month - 1, day);
      const hijri = gregorianToHijri(gDate);
      output.textContent = `Hijri: ${hijri.year}-${String(hijri.month).padStart(2, '0')}-${String(hijri.day).padStart(2, '0')}`;
    }

    function convertToGregorian() {
      const input = document.getElementById('hijriInput').value;
      const output = document.getElementById('gregorianOutput');
      const match = input.match(/^(\d{4})-(\d{2})-(\d{2})$/);
      if (!match) return output.textContent = 'Format must be YYYY-MM-DD';
      const [_, y, m, d] = input.split('-').map(Number);
      const g = hijriToGregorian(y, m, d);
      output.textContent = `Gregorian: ${g.year}-${String(g.month).padStart(2, '0')}-${String(g.day).padStart(2, '0')}`;
    }
  </script>
</body>
</html>
